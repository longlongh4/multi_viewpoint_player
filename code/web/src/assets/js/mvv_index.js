'use strict'; // code generated by pbf v3.2.1

// Index ========================================

var Index = exports.Index = {};

Index.read = function (pbf, end) {
    return pbf.readFields(Index._readField, {cameras: [], camera_count: 0}, end);
};
Index._readField = function (tag, obj, pbf) {
    if (tag === 1) obj.cameras.push(Camera.read(pbf, pbf.readVarint() + pbf.pos));
    else if (tag === 2) obj.camera_count = pbf.readVarint();
};
Index.write = function (obj, pbf) {
    if (obj.cameras) for (var i = 0; i < obj.cameras.length; i++) pbf.writeMessage(1, Camera.write, obj.cameras[i]);
    if (obj.camera_count) pbf.writeVarintField(2, obj.camera_count);
};

// Camera ========================================

var Camera = exports.Camera = {};

Camera.read = function (pbf, end) {
    return pbf.readFields(Camera._readField, {frames: [], angle: 0, frame_count: 0, width: 0, height: 0, framerate: 0, timescale: 0, codec: ""}, end);
};
Camera._readField = function (tag, obj, pbf) {
    if (tag === 1) obj.frames.push(Frame.read(pbf, pbf.readVarint() + pbf.pos));
    else if (tag === 2) obj.angle = pbf.readFloat();
    else if (tag === 3) obj.frame_count = pbf.readVarint();
    else if (tag === 4) obj.width = pbf.readVarint();
    else if (tag === 5) obj.height = pbf.readVarint();
    else if (tag === 6) obj.framerate = pbf.readVarint();
    else if (tag === 7) obj.timescale = pbf.readVarint();
    else if (tag === 8) obj.codec = pbf.readString();
};
Camera.write = function (obj, pbf) {
    if (obj.frames) for (var i = 0; i < obj.frames.length; i++) pbf.writeMessage(1, Frame.write, obj.frames[i]);
    if (obj.angle) pbf.writeFloatField(2, obj.angle);
    if (obj.frame_count) pbf.writeVarintField(3, obj.frame_count);
    if (obj.width) pbf.writeVarintField(4, obj.width);
    if (obj.height) pbf.writeVarintField(5, obj.height);
    if (obj.framerate) pbf.writeVarintField(6, obj.framerate);
    if (obj.timescale) pbf.writeVarintField(7, obj.timescale);
    if (obj.codec) pbf.writeStringField(8, obj.codec);
};

// Frame ========================================

var Frame = exports.Frame = {};

Frame.read = function (pbf, end) {
    return pbf.readFields(Frame._readField, {offset: 0, size: 0, timestamp: 0, keyframe: false}, end);
};
Frame._readField = function (tag, obj, pbf) {
    if (tag === 1) obj.offset = pbf.readVarint();
    else if (tag === 2) obj.size = pbf.readVarint();
    else if (tag === 3) obj.timestamp = pbf.readVarint();
    else if (tag === 4) obj.keyframe = pbf.readBoolean();
};
Frame.write = function (obj, pbf) {
    if (obj.offset) pbf.writeVarintField(1, obj.offset);
    if (obj.size) pbf.writeVarintField(2, obj.size);
    if (obj.timestamp) pbf.writeVarintField(3, obj.timestamp);
    if (obj.keyframe) pbf.writeBooleanField(4, obj.keyframe);
};
